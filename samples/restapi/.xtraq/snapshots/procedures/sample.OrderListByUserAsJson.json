{
  "Schema": "sample",
  "Name": "OrderListByUserAsJson",
  "Parameters": [
    {
      "Name": "UserId",
      "TypeRef": "sys.int",
      "IsNullable": true
    }
  ],
  "ResultSets": [
    {
      "ReturnsJson": true,
      "ReturnsJsonArray": false,
      "Columns": [
        {
          "Name": "OrderId",
          "TypeRef": "sys.int"
        },
        {
          "Name": "OrderNumber",
          "TypeRef": "sys.nvarchar(40)",
          "MaxLength": 40
        },
        {
          "Name": "Status",
          "TypeRef": "sys.nvarchar(50)",
          "MaxLength": 50
        },
        {
          "Name": "TotalAmount",
          "TypeRef": "sys.decimal(18,2)",
          "MaxLength": 9
        },
        {
          "Name": "Currency",
          "TypeRef": "sys.char(3)",
          "MaxLength": 3
        },
        {
          "Name": "PlacedAtUtc",
          "TypeRef": "sys.datetime2(3)",
          "MaxLength": 7
        },
        {
          "Name": "RequiredAtUtc",
          "TypeRef": "sys.datetime2(3)",
          "IsNullable": true,
          "MaxLength": 7
        },
        {
          "Name": "Payments",
          "ReturnsJson": true,
          "ReturnsJsonArray": true,
          "IsNullable": true,
          "Columns": [
            {
              "Name": "PaymentId",
              "TypeRef": "sys.uniqueidentifier"
            },
            {
              "Name": "Gateway",
              "TypeRef": "sys.nvarchar(50)",
              "MaxLength": 50
            },
            {
              "Name": "Amount",
              "TypeRef": "sys.decimal(18,4)",
              "MaxLength": 9
            },
            {
              "Name": "CapturedAtUtc",
              "TypeRef": "sys.datetime2(3)",
              "IsNullable": true,
              "MaxLength": 7
            },
            {
              "Name": "FailureReason",
              "TypeRef": "sys.nvarchar(400)",
              "IsNullable": true,
              "MaxLength": 400
            }
          ]
        }
      ]
    }
  ]
}