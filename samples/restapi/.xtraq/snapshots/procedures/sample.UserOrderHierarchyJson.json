{
  "Schema": "sample",
  "Name": "UserOrderHierarchyJson",
  "Parameters": [],
  "ResultSets": [
    {
      "ReturnsJson": true,
      "ReturnsJsonArray": true,
      "JsonRootProperty": "Users",
      "Columns": [
        {
          "Name": "UserId",
          "SourceColumn": "UserId",
          "TypeRef": "sys.int"
        },
        {
          "Name": "Alias",
          "SourceColumn": "Alias",
          "TypeRef": "sys.nvarchar",
          "IsNullable": true,
          "MaxLength": 120
        },
        {
          "Name": "DisplayName",
          "SourceColumn": "DisplayName",
          "TypeRef": "sys.nvarchar",
          "MaxLength": 200
        },
        {
          "Name": "Email",
          "SourceColumn": "Email",
          "TypeRef": "sys.nvarchar",
          "IsNullable": true,
          "MaxLength": 320
        },
        {
          "Name": "Orders",
          "Alias": "Orders",
          "ReturnsJson": true,
          "ReturnsJsonArray": true,
          "JsonRootProperty": "Users",
          "IsNullable": true,
          "Columns": [
            {
              "Name": "OrderId",
              "SourceColumn": "OrderId",
              "TypeRef": "sys.int"
            },
            {
              "Name": "OrderNumber",
              "SourceColumn": "OrderNumber",
              "TypeRef": "sys.nvarchar",
              "MaxLength": 40
            },
            {
              "Name": "Status",
              "SourceColumn": "Status",
              "TypeRef": "sys.nvarchar",
              "MaxLength": 50
            },
            {
              "Name": "TotalAmount",
              "SourceColumn": "TotalAmount",
              "TypeRef": "sys.decimal",
              "MaxLength": 9
            },
            {
              "Name": "Currency",
              "SourceColumn": "Currency",
              "TypeRef": "sys.char",
              "MaxLength": 3
            },
            {
              "Name": "PlacedAtUtc",
              "SourceColumn": "PlacedAtUtc",
              "TypeRef": "sys.datetime2"
            },
            {
              "Name": "Payments",
              "Alias": "Payments",
              "ReturnsJson": true,
              "ReturnsJsonArray": true,
              "IsNullable": true,
              "Columns": [
                {
                  "Name": "PaymentId",
                  "SourceColumn": "PaymentId",
                  "TypeRef": "sys.uniqueidentifier"
                },
                {
                  "Name": "Gateway",
                  "SourceColumn": "Gateway",
                  "TypeRef": "sys.nvarchar",
                  "MaxLength": 50
                },
                {
                  "Name": "Amount",
                  "SourceColumn": "Amount",
                  "TypeRef": "sys.decimal",
                  "MaxLength": 9
                },
                {
                  "Name": "CapturedAtUtc",
                  "SourceColumn": "CapturedAtUtc",
                  "TypeRef": "sys.datetime2",
                  "IsNullable": true
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}